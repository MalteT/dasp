//! # Parser
//!
//! ```ebnf
//! ASPARTIX    ::= ( ( ASPArgument | ASPAttack | ASPOptional ) . )*
//! ASPArgument ::= 'arg' '(' Name ')'
//! ASPAttack   ::= 'att' '(' Name ',' Name ')'
//! ASPOptional ::= 'opt' '(' ( Argument | Attack ) ')'
//! Name        ::= [a-zA-Z-_0-9]+
//!
//! TGF         ::= ( TGFArgument EOL )* '#' EOL ( TGFAttack EOL )*
//! TGFArgument ::= Name '?'?
//! TGFAttack   ::= Name ' ' Name '?'?
//!
//! TGFUpdate   ::= ( ( '+' | '-' ) TGFAttack ) | ( '+' TGFArgument ( ':' TGFAttack )* ) | ( '-' TGFArgument )
//!
//! ASPUpdate   ::= ( ( '+' | '-' ) ASPAttack ) | ( '+' ASPArgument ( ':' ASPAttack )* ) | ( '-' ASPArgument ) '.'
//! ```
//! **ASPARTIX:**
//!
//! ![ASPARTIX](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22339%22%20height%3D%22157%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2033%201%2029%201%2037%22%2F%3E%3Cpolygon%20points%3D%2217%2033%209%2029%209%2037%22%2F%3E%3Crect%20x%3D%2291%22%20y%3D%2219%22%20width%3D%22106%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2289%22%20y%3D%2217%22%20width%3D%22106%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2299%22%20y%3D%2237%22%3EASPArgument%3C%2Ftext%3E%3Crect%20x%3D%2291%22%20y%3D%2263%22%20width%3D%2284%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2289%22%20y%3D%2261%22%20width%3D%2284%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2299%22%20y%3D%2281%22%3EASPAttack%3C%2Ftext%3E%3Crect%20x%3D%2291%22%20y%3D%22107%22%20width%3D%2296%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2289%22%20y%3D%22105%22%20width%3D%2296%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2299%22%20y%3D%22125%22%3EASPOptional%3C%2Ftext%3E%3Cpolygon%20points%3D%22237%2035%20244%2019%20264%2019%20271%2035%20264%2051%20244%2051%22%2F%3E%3Cpolygon%20points%3D%22235%2033%20242%2017%20262%2017%20269%2033%20262%2049%20242%2049%22%20class%3D%22regexp%22%2F%3E%3Ctext%20class%3D%22regexp%22%20x%3D%22250%22%20y%3D%2237%22%3E.%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2033%20h2%20m60%200%20h10%20m106%200%20h10%20m-146%200%20h20%20m126%200%20h20%20m-166%200%20q10%200%2010%2010%20m146%200%20q0%20-10%2010%20-10%20m-156%2010%20v24%20m146%200%20v-24%20m-146%2024%20q0%2010%2010%2010%20m126%200%20q10%200%2010%20-10%20m-136%2010%20h10%20m84%200%20h10%20m0%200%20h22%20m-136%20-10%20v20%20m146%200%20v-20%20m-146%2020%20v24%20m146%200%20v-24%20m-146%2024%20q0%2010%2010%2010%20m126%200%20q10%200%2010%20-10%20m-136%2010%20h10%20m96%200%20h10%20m0%200%20h10%20m20%20-88%20h10%20m34%200%20h10%20m-240%200%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-12%20q0%20-10%2010%20-10%20m220%2032%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-12%20q0%20-10%20-10%20-10%20m-220%200%20h10%20m0%200%20h210%20m-260%2032%20h20%20m260%200%20h20%20m-300%200%20q10%200%2010%2010%20m280%200%20q0%20-10%2010%20-10%20m-290%2010%20v102%20m280%200%20v-102%20m-280%20102%20q0%2010%2010%2010%20m260%200%20q10%200%2010%20-10%20m-270%2010%20h10%20m0%200%20h250%20m23%20-122%20h-3%22%2F%3E%3Cpolygon%20points%3D%22329%2033%20337%2029%20337%2037%22%2F%3E%3Cpolygon%20points%3D%22329%2033%20321%2029%20321%2037%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! ASPARTIX ::= ( ( ASPArgument | ASPAttack | ASPOptional ) . )*
//! ```
//!
//! **ASPArgument:**
//!
//! ![ASPArgument](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22269%22%20height%3D%2237%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2231%22%20y%3D%223%22%20width%3D%2242%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%221%22%20width%3D%2242%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2239%22%20y%3D%2221%22%3Earg%3C%2Ftext%3E%3Crect%20x%3D%2293%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2291%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22101%22%20y%3D%2221%22%3E%28%3C%2Ftext%3E%3Crect%20x%3D%22139%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22137%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22147%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22215%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22213%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22223%22%20y%3D%2221%22%3E%29%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m0%200%20h10%20m42%200%20h10%20m0%200%20h10%20m26%200%20h10%20m0%200%20h10%20m56%200%20h10%20m0%200%20h10%20m26%200%20h10%20m3%200%20h-3%22%2F%3E%3Cpolygon%20points%3D%22259%2017%20267%2013%20267%2021%22%2F%3E%3Cpolygon%20points%3D%22259%2017%20251%2013%20251%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! ASPArgument
//!          ::= 'arg' '(' Name ')'
//! ```
//!
//! referenced by:
//!
//! * ASPARTIX
//! * ASPUpdate
//!
//! **ASPAttack:**
//!
//! ![ASPAttack](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22385%22%20height%3D%2237%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2231%22%20y%3D%223%22%20width%3D%2238%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%221%22%20width%3D%2238%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2239%22%20y%3D%2221%22%3Eatt%3C%2Ftext%3E%3Crect%20x%3D%2289%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2287%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2297%22%20y%3D%2221%22%3E%28%3C%2Ftext%3E%3Crect%20x%3D%22135%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22133%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22143%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22211%22%20y%3D%223%22%20width%3D%2224%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22209%22%20y%3D%221%22%20width%3D%2224%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22219%22%20y%3D%2221%22%3E%2C%3C%2Ftext%3E%3Crect%20x%3D%22255%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22253%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22263%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22331%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22329%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22339%22%20y%3D%2221%22%3E%29%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m0%200%20h10%20m38%200%20h10%20m0%200%20h10%20m26%200%20h10%20m0%200%20h10%20m56%200%20h10%20m0%200%20h10%20m24%200%20h10%20m0%200%20h10%20m56%200%20h10%20m0%200%20h10%20m26%200%20h10%20m3%200%20h-3%22%2F%3E%3Cpolygon%20points%3D%22375%2017%20383%2013%20383%2021%22%2F%3E%3Cpolygon%20points%3D%22375%2017%20367%2013%20367%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! ASPAttack
//!          ::= 'att' '(' Name ',' Name ')'
//! ```
//!
//! referenced by:
//!
//! * ASPARTIX
//! * ASPUpdate
//!
//! **ASPOptional:**
//!
//! ![ASPOptional](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22335%22%20height%3D%2281%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2231%22%20y%3D%223%22%20width%3D%2242%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%221%22%20width%3D%2242%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2239%22%20y%3D%2221%22%3Eopt%3C%2Ftext%3E%3Crect%20x%3D%2293%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2291%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22101%22%20y%3D%2221%22%3E%28%3C%2Ftext%3E%3Crect%20x%3D%22159%22%20y%3D%223%22%20width%3D%2282%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22157%22%20y%3D%221%22%20width%3D%2282%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22167%22%20y%3D%2221%22%3EArgument%3C%2Ftext%3E%3Crect%20x%3D%22159%22%20y%3D%2247%22%20width%3D%2260%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22157%22%20y%3D%2245%22%20width%3D%2260%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22167%22%20y%3D%2265%22%3EAttack%3C%2Ftext%3E%3Crect%20x%3D%22281%22%20y%3D%223%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22279%22%20y%3D%221%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22289%22%20y%3D%2221%22%3E%29%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m0%200%20h10%20m42%200%20h10%20m0%200%20h10%20m26%200%20h10%20m20%200%20h10%20m82%200%20h10%20m-122%200%20h20%20m102%200%20h20%20m-142%200%20q10%200%2010%2010%20m122%200%20q0%20-10%2010%20-10%20m-132%2010%20v24%20m122%200%20v-24%20m-122%2024%20q0%2010%2010%2010%20m102%200%20q10%200%2010%20-10%20m-112%2010%20h10%20m60%200%20h10%20m0%200%20h22%20m20%20-44%20h10%20m26%200%20h10%20m3%200%20h-3%22%2F%3E%3Cpolygon%20points%3D%22325%2017%20333%2013%20333%2021%22%2F%3E%3Cpolygon%20points%3D%22325%2017%20317%2013%20317%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! ASPOptional
//!          ::= 'opt' '(' ( Argument | Attack ) ')'
//! ```
//!
//! referenced by:
//!
//! * ASPARTIX
//!
//! **Name:**
//!
//! ![Name](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22201%22%20height%3D%22229%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2033%201%2029%201%2037%22%2F%3E%3Cpolygon%20points%3D%2217%2033%209%2029%209%2037%22%2F%3E%3Cpolygon%20points%3D%2271%2035%2078%2019%20124%2019%20131%2035%20124%2051%2078%2051%22%2F%3E%3Cpolygon%20points%3D%2269%2033%2076%2017%20122%2017%20129%2033%20122%2049%2076%2049%22%20class%3D%22regexp%22%2F%3E%3Ctext%20class%3D%22regexp%22%20x%3D%2284%22%20y%3D%2237%22%3E%5Ba-z%5D%3C%2Ftext%3E%3Cpolygon%20points%3D%2271%2079%2078%2063%20126%2063%20133%2079%20126%2095%2078%2095%22%2F%3E%3Cpolygon%20points%3D%2269%2077%2076%2061%20124%2061%20131%2077%20124%2093%2076%2093%22%20class%3D%22regexp%22%2F%3E%3Ctext%20class%3D%22regexp%22%20x%3D%2284%22%20y%3D%2281%22%3E%5BA-Z%5D%3C%2Ftext%3E%3Crect%20x%3D%2271%22%20y%3D%22107%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%22105%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%22125%22%3E-%3C%2Ftext%3E%3Crect%20x%3D%2271%22%20y%3D%22151%22%20width%3D%2228%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%22149%22%20width%3D%2228%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%22169%22%3E_%3C%2Ftext%3E%3Cpolygon%20points%3D%2271%20211%2078%20195%20126%20195%20133%20211%20126%20227%2078%20227%22%2F%3E%3Cpolygon%20points%3D%2269%20209%2076%20193%20124%20193%20131%20209%20124%20225%2076%20225%22%20class%3D%22regexp%22%2F%3E%3Ctext%20class%3D%22regexp%22%20x%3D%2284%22%20y%3D%22213%22%3E%5B0-9%5D%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2033%20h2%20m40%200%20h10%20m60%200%20h10%20m0%200%20h2%20m-102%200%20h20%20m82%200%20h20%20m-122%200%20q10%200%2010%2010%20m102%200%20q0%20-10%2010%20-10%20m-112%2010%20v24%20m102%200%20v-24%20m-102%2024%20q0%2010%2010%2010%20m82%200%20q10%200%2010%20-10%20m-92%2010%20h10%20m62%200%20h10%20m-92%20-10%20v20%20m102%200%20v-20%20m-102%2020%20v24%20m102%200%20v-24%20m-102%2024%20q0%2010%2010%2010%20m82%200%20q10%200%2010%20-10%20m-92%2010%20h10%20m26%200%20h10%20m0%200%20h36%20m-92%20-10%20v20%20m102%200%20v-20%20m-102%2020%20v24%20m102%200%20v-24%20m-102%2024%20q0%2010%2010%2010%20m82%200%20q10%200%2010%20-10%20m-92%2010%20h10%20m28%200%20h10%20m0%200%20h34%20m-92%20-10%20v20%20m102%200%20v-20%20m-102%2020%20v24%20m102%200%20v-24%20m-102%2024%20q0%2010%2010%2010%20m82%200%20q10%200%2010%20-10%20m-92%2010%20h10%20m62%200%20h10%20m-122%20-176%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-12%20q0%20-10%2010%20-10%20m122%2032%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-12%20q0%20-10%20-10%20-10%20m-122%200%20h10%20m0%200%20h112%20m23%2032%20h-3%22%2F%3E%3Cpolygon%20points%3D%22191%2033%20199%2029%20199%2037%22%2F%3E%3Cpolygon%20points%3D%22191%2033%20183%2029%20183%2037%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! Name     ::= [a-zA-Z_0-9#x2D]+
//! ```
//!
//! referenced by:
//!
//! * ASPArgument
//! * ASPAttack
//! * TGFArgument
//! * TGFAttack
//!
//! **TGF:**
//!
//! ![TGF](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22499%22%20height%3D%2297%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2061%201%2057%201%2065%22%2F%3E%3Cpolygon%20points%3D%2217%2061%209%2057%209%2065%22%2F%3E%3Crect%20x%3D%2271%22%20y%3D%2247%22%20width%3D%22104%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%2245%22%20width%3D%22104%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2279%22%20y%3D%2265%22%3ETGFArgument%3C%2Ftext%3E%3Crect%20x%3D%22195%22%20y%3D%2247%22%20width%3D%2244%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22193%22%20y%3D%2245%22%20width%3D%2244%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22203%22%20y%3D%2265%22%3EEOL%3C%2Ftext%3E%3Crect%20x%3D%22299%22%20y%3D%2247%22%20width%3D%2230%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22297%22%20y%3D%2245%22%20width%3D%2230%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22307%22%20y%3D%2265%22%3E%23%3C%2Ftext%3E%3Crect%20x%3D%22369%22%20y%3D%2247%22%20width%3D%2244%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22367%22%20y%3D%2245%22%20width%3D%2244%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22377%22%20y%3D%2265%22%3EEOL%3C%2Ftext%3E%3Crect%20x%3D%22369%22%20y%3D%223%22%20width%3D%2282%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22367%22%20y%3D%221%22%20width%3D%2282%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22377%22%20y%3D%2221%22%3ETGFAttack%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2061%20h2%20m40%200%20h10%20m104%200%20h10%20m0%200%20h10%20m44%200%20h10%20m-208%200%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-12%20q0%20-10%2010%20-10%20m188%2032%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-12%20q0%20-10%20-10%20-10%20m-188%200%20h10%20m0%200%20h178%20m-228%2032%20h20%20m228%200%20h20%20m-268%200%20q10%200%2010%2010%20m248%200%20q0%20-10%2010%20-10%20m-258%2010%20v14%20m248%200%20v-14%20m-248%2014%20q0%2010%2010%2010%20m228%200%20q10%200%2010%20-10%20m-238%2010%20h10%20m0%200%20h218%20m20%20-34%20h10%20m30%200%20h10%20m20%200%20h10%20m44%200%20h10%20m0%200%20h38%20m-122%200%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-24%20q0%20-10%2010%20-10%20m102%2044%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-24%20q0%20-10%20-10%20-10%20m-102%200%20h10%20m82%200%20h10%20m23%2044%20h-3%22%2F%3E%3Cpolygon%20points%3D%22489%2061%20497%2057%20497%2065%22%2F%3E%3Cpolygon%20points%3D%22489%2061%20481%2057%20481%2065%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! TGF      ::= ( TGFArgument EOL )* '#' EOL ( TGFAttack EOL )*
//! ```
//!
//! **TGFArgument:**
//!
//! ![TGFArgument](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22201%22%20height%3D%2269%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2231%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2239%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22127%22%20y%3D%2235%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22125%22%20y%3D%2233%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22135%22%20y%3D%2253%22%3E%3F%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m0%200%20h10%20m56%200%20h10%20m20%200%20h10%20m0%200%20h36%20m-66%200%20h20%20m46%200%20h20%20m-86%200%20q10%200%2010%2010%20m66%200%20q0%20-10%2010%20-10%20m-76%2010%20v12%20m66%200%20v-12%20m-66%2012%20q0%2010%2010%2010%20m46%200%20q10%200%2010%20-10%20m-56%2010%20h10%20m26%200%20h10%20m23%20-32%20h-3%22%2F%3E%3Cpolygon%20points%3D%22191%2017%20199%2013%20199%2021%22%2F%3E%3Cpolygon%20points%3D%22191%2017%20183%2013%20183%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! TGFArgument
//!          ::= Name '?'?
//! ```
//!
//! referenced by:
//!
//! * TGF
//! * TGFUpdate
//!
//! **TGFAttack:**
//!
//! ![TGFAttack](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22321%22%20height%3D%2269%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2231%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2229%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%2239%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22107%22%20y%3D%223%22%20width%3D%2224%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22105%22%20y%3D%221%22%20width%3D%2224%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22115%22%20y%3D%2221%22%2F%3E%3Crect%20x%3D%22151%22%20y%3D%223%22%20width%3D%2256%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22149%22%20y%3D%221%22%20width%3D%2256%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22159%22%20y%3D%2221%22%3EName%3C%2Ftext%3E%3Crect%20x%3D%22247%22%20y%3D%2235%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22245%22%20y%3D%2233%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22255%22%20y%3D%2253%22%3E%3F%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m0%200%20h10%20m56%200%20h10%20m0%200%20h10%20m24%200%20h10%20m0%200%20h10%20m56%200%20h10%20m20%200%20h10%20m0%200%20h36%20m-66%200%20h20%20m46%200%20h20%20m-86%200%20q10%200%2010%2010%20m66%200%20q0%20-10%2010%20-10%20m-76%2010%20v12%20m66%200%20v-12%20m-66%2012%20q0%2010%2010%2010%20m46%200%20q10%200%2010%20-10%20m-56%2010%20h10%20m26%200%20h10%20m23%20-32%20h-3%22%2F%3E%3Cpolygon%20points%3D%22311%2017%20319%2013%20319%2021%22%2F%3E%3Cpolygon%20points%3D%22311%2017%20303%2013%20303%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! TGFAttack
//!          ::= Name ' ' Name '?'?
//! ```
//!
//! referenced by:
//!
//! * TGF
//! * TGFUpdate
//!
//! **TGFUpdate:**
//!
//! ![TGFUpdate](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22479%22%20height%3D%22213%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2271%22%20y%3D%223%22%20width%3D%2230%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%221%22%20width%3D%2230%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%2221%22%3E%2B%3C%2Ftext%3E%3Crect%20x%3D%2271%22%20y%3D%2247%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%2245%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%2265%22%3E-%3C%2Ftext%3E%3Crect%20x%3D%22141%22%20y%3D%223%22%20width%3D%2282%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22139%22%20y%3D%221%22%20width%3D%2282%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22149%22%20y%3D%2221%22%3ETGFAttack%3C%2Ftext%3E%3Crect%20x%3D%2251%22%20y%3D%22113%22%20width%3D%2230%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2249%22%20y%3D%22111%22%20width%3D%2230%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2259%22%20y%3D%22131%22%3E%2B%3C%2Ftext%3E%3Crect%20x%3D%22101%22%20y%3D%22113%22%20width%3D%22104%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2299%22%20y%3D%22111%22%20width%3D%22104%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22109%22%20y%3D%22131%22%3ETGFArgument%3C%2Ftext%3E%3Crect%20x%3D%22265%22%20y%3D%22113%22%20width%3D%2224%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22263%22%20y%3D%22111%22%20width%3D%2224%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22273%22%20y%3D%22131%22%3E%3A%3C%2Ftext%3E%3Crect%20x%3D%22309%22%20y%3D%22113%22%20width%3D%2282%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22307%22%20y%3D%22111%22%20width%3D%2282%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22317%22%20y%3D%22131%22%3ETGFAttack%3C%2Ftext%3E%3Crect%20x%3D%2251%22%20y%3D%22179%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2249%22%20y%3D%22177%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2259%22%20y%3D%22197%22%3E-%3C%2Ftext%3E%3Crect%20x%3D%2297%22%20y%3D%22179%22%20width%3D%22104%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2295%22%20y%3D%22177%22%20width%3D%22104%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22105%22%20y%3D%22197%22%3ETGFArgument%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m40%200%20h10%20m30%200%20h10%20m-70%200%20h20%20m50%200%20h20%20m-90%200%20q10%200%2010%2010%20m70%200%20q0%20-10%2010%20-10%20m-80%2010%20v24%20m70%200%20v-24%20m-70%2024%20q0%2010%2010%2010%20m50%200%20q10%200%2010%20-10%20m-60%2010%20h10%20m26%200%20h10%20m0%200%20h4%20m20%20-44%20h10%20m82%200%20h10%20m0%200%20h208%20m-420%200%20h20%20m400%200%20h20%20m-440%200%20q10%200%2010%2010%20m420%200%20q0%20-10%2010%20-10%20m-430%2010%20v90%20m420%200%20v-90%20m-420%2090%20q0%2010%2010%2010%20m400%200%20q10%200%2010%20-10%20m-410%2010%20h10%20m30%200%20h10%20m0%200%20h10%20m104%200%20h10%20m40%200%20h10%20m24%200%20h10%20m0%200%20h10%20m82%200%20h10%20m-166%200%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-12%20q0%20-10%2010%20-10%20m146%2032%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-12%20q0%20-10%20-10%20-10%20m-146%200%20h10%20m0%200%20h136%20m-186%2032%20h20%20m186%200%20h20%20m-226%200%20q10%200%2010%2010%20m206%200%20q0%20-10%2010%20-10%20m-216%2010%20v14%20m206%200%20v-14%20m-206%2014%20q0%2010%2010%2010%20m186%200%20q10%200%2010%20-10%20m-196%2010%20h10%20m0%200%20h176%20m-390%20-44%20v20%20m420%200%20v-20%20m-420%2020%20v46%20m420%200%20v-46%20m-420%2046%20q0%2010%2010%2010%20m400%200%20q10%200%2010%20-10%20m-410%2010%20h10%20m26%200%20h10%20m0%200%20h10%20m104%200%20h10%20m0%200%20h230%20m23%20-176%20h-3%22%2F%3E%3Cpolygon%20points%3D%22469%2017%20477%2013%20477%2021%22%2F%3E%3Cpolygon%20points%3D%22469%2017%20461%2013%20461%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! TGFUpdate
//!          ::= ( '+' | '-' ) TGFAttack
//!            | '+' TGFArgument ( ':' TGFAttack )*
//!            | '-' TGFArgument
//! ```
//!
//! **ASPUpdate:**
//!
//! ![ASPUpdate](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22483%22%20height%3D%22213%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cpolygon%20points%3D%229%2017%201%2013%201%2021%22%2F%3E%3Cpolygon%20points%3D%2217%2017%209%2013%209%2021%22%2F%3E%3Crect%20x%3D%2271%22%20y%3D%223%22%20width%3D%2230%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%221%22%20width%3D%2230%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%2221%22%3E%2B%3C%2Ftext%3E%3Crect%20x%3D%2271%22%20y%3D%2247%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2269%22%20y%3D%2245%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2279%22%20y%3D%2265%22%3E-%3C%2Ftext%3E%3Crect%20x%3D%22141%22%20y%3D%223%22%20width%3D%2284%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22139%22%20y%3D%221%22%20width%3D%2284%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22149%22%20y%3D%2221%22%3EASPAttack%3C%2Ftext%3E%3Crect%20x%3D%2251%22%20y%3D%22113%22%20width%3D%2230%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2249%22%20y%3D%22111%22%20width%3D%2230%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2259%22%20y%3D%22131%22%3E%2B%3C%2Ftext%3E%3Crect%20x%3D%22101%22%20y%3D%22113%22%20width%3D%22106%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2299%22%20y%3D%22111%22%20width%3D%22106%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22109%22%20y%3D%22131%22%3EASPArgument%3C%2Ftext%3E%3Crect%20x%3D%22267%22%20y%3D%22113%22%20width%3D%2224%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22265%22%20y%3D%22111%22%20width%3D%2224%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22275%22%20y%3D%22131%22%3E%3A%3C%2Ftext%3E%3Crect%20x%3D%22311%22%20y%3D%22113%22%20width%3D%2284%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%22309%22%20y%3D%22111%22%20width%3D%2284%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22319%22%20y%3D%22131%22%3EASPAttack%3C%2Ftext%3E%3Crect%20x%3D%2251%22%20y%3D%22179%22%20width%3D%2226%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%2249%22%20y%3D%22177%22%20width%3D%2226%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%2259%22%20y%3D%22197%22%3E-%3C%2Ftext%3E%3Crect%20x%3D%2297%22%20y%3D%22179%22%20width%3D%22106%22%20height%3D%2232%22%2F%3E%3Crect%20x%3D%2295%22%20y%3D%22177%22%20width%3D%22106%22%20height%3D%2232%22%20class%3D%22nonterminal%22%2F%3E%3Ctext%20class%3D%22nonterminal%22%20x%3D%22105%22%20y%3D%22197%22%3EASPArgument%3C%2Ftext%3E%3Crect%20x%3D%22223%22%20y%3D%22179%22%20width%3D%2224%22%20height%3D%2232%22%20rx%3D%2210%22%2F%3E%3Crect%20x%3D%22221%22%20y%3D%22177%22%20width%3D%2224%22%20height%3D%2232%22%20class%3D%22terminal%22%20rx%3D%2210%22%2F%3E%3Ctext%20class%3D%22terminal%22%20x%3D%22231%22%20y%3D%22197%22%3E.%3C%2Ftext%3E%3Cpath%20class%3D%22line%22%20d%3D%22m17%2017%20h2%20m40%200%20h10%20m30%200%20h10%20m-70%200%20h20%20m50%200%20h20%20m-90%200%20q10%200%2010%2010%20m70%200%20q0%20-10%2010%20-10%20m-80%2010%20v24%20m70%200%20v-24%20m-70%2024%20q0%2010%2010%2010%20m50%200%20q10%200%2010%20-10%20m-60%2010%20h10%20m26%200%20h10%20m0%200%20h4%20m20%20-44%20h10%20m84%200%20h10%20m0%200%20h210%20m-424%200%20h20%20m404%200%20h20%20m-444%200%20q10%200%2010%2010%20m424%200%20q0%20-10%2010%20-10%20m-434%2010%20v90%20m424%200%20v-90%20m-424%2090%20q0%2010%2010%2010%20m404%200%20q10%200%2010%20-10%20m-414%2010%20h10%20m30%200%20h10%20m0%200%20h10%20m106%200%20h10%20m40%200%20h10%20m24%200%20h10%20m0%200%20h10%20m84%200%20h10%20m-168%200%20l20%200%20m-1%200%20q-9%200%20-9%20-10%20l0%20-12%20q0%20-10%2010%20-10%20m148%2032%20l20%200%20m-20%200%20q10%200%2010%20-10%20l0%20-12%20q0%20-10%20-10%20-10%20m-148%200%20h10%20m0%200%20h138%20m-188%2032%20h20%20m188%200%20h20%20m-228%200%20q10%200%2010%2010%20m208%200%20q0%20-10%2010%20-10%20m-218%2010%20v14%20m208%200%20v-14%20m-208%2014%20q0%2010%2010%2010%20m188%200%20q10%200%2010%20-10%20m-198%2010%20h10%20m0%200%20h178%20m-394%20-44%20v20%20m424%200%20v-20%20m-424%2020%20v46%20m424%200%20v-46%20m-424%2046%20q0%2010%2010%2010%20m404%200%20q10%200%2010%20-10%20m-414%2010%20h10%20m26%200%20h10%20m0%200%20h10%20m106%200%20h10%20m0%200%20h10%20m24%200%20h10%20m0%200%20h188%20m23%20-176%20h-3%22%2F%3E%3Cpolygon%20points%3D%22473%2017%20481%2013%20481%2021%22%2F%3E%3Cpolygon%20points%3D%22473%2017%20465%2013%20465%2021%22%2F%3E%3C%2Fsvg%3E)
//!
//! ```ebnf
//! ASPUpdate
//!          ::= ( '+' | '-' ) ASPAttack
//!            | '+' ASPArgument ( ':' ASPAttack )*
//!            | '-' ASPArgument '.'
//! ```
//!
//! ##
//! ![Railroad-Diagram-Generator](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%40namespace%20%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3B%20.line%20%7Bfill%3A%20none%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20.bold-line%20%7Bstroke%3A%20%23140E00%3B%20shape-rendering%3A%20crispEdges%3B%20stroke-width%3A%202%3B%7D%20.thin-line%20%7Bstroke%3A%20%231F1400%3B%20shape-rendering%3A%20crispEdges%7D%20.filled%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20none%3B%7D%20text.terminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%23140E00%3B%20font-weight%3A%20bold%3B%20%7D%20text.nonterminal%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231A1100%3B%20font-weight%3A%20normal%3B%20%7D%20text.regexp%20%7Bfont-family%3A%20Verdana%2C%20Sans-serif%3B%20font-size%3A%2012px%3B%20fill%3A%20%231F1400%3B%20font-weight%3A%20normal%3B%20%7D%20rect%2C%20circle%2C%20polygon%20%7Bfill%3A%20%23332200%3B%20stroke%3A%20%23332200%3B%7D%20rect.terminal%20%7Bfill%3A%20%23FFC34D%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.nonterminal%20%7Bfill%3A%20%23FFDF9E%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%20rect.text%20%7Bfill%3A%20none%3B%20stroke%3A%20none%3B%7D%20polygon.regexp%20%7Bfill%3A%20%23FFECC7%3B%20stroke%3A%20%23332200%3B%20stroke-width%3A%201%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20transform%3D%22scale%280.178%29%22%3E%3Ccircle%20cx%3D%2245%22%20cy%3D%2245%22%20r%3D%2245%22%20style%3D%22stroke%3Anone%3B%20fill%3A%23FFCC00%22%2F%3E%3Ccircle%20cx%3D%2245%22%20cy%3D%2245%22%20r%3D%2242%22%20style%3D%22stroke%3A%23332900%3B%20stroke-width%3A2px%3B%20fill%3A%23FFCC00%22%2F%3E%3Cline%20x1%3D%2215%22%20y1%3D%2215%22%20x2%3D%2275%22%20y2%3D%2275%22%20stroke%3D%22%23332900%22%20style%3D%22stroke-width%3A9px%3B%22%2F%3E%3Cline%20x1%3D%2215%22%20y1%3D%2275%22%20x2%3D%2275%22%20y2%3D%2215%22%20stroke%3D%22%23332900%22%20style%3D%22stroke-width%3A9px%3B%22%2F%3E%3Ctext%20x%3D%227%22%20y%3D%2254%22%20style%3D%22font-size%3A26px%3B%20font-family%3AArial%2C%20Sans-serif%3B%20font-weight%3Abold%3B%20fill%3A%20%23332900%22%3ER%3C%2Ftext%3E%3Ctext%20x%3D%2264%22%20y%3D%2254%22%20style%3D%22font-size%3A26px%3B%20font-family%3AArial%2C%20Sans-serif%3B%20font-weight%3Abold%3B%20fill%3A%20%23332900%22%3ER%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fsvg%3E) <sup>generated by [RR - Railroad Diagram Generator][RR]</sup>
//!
//! [RR]: http://bottlecaps.de/rr/ui

use crate::{framework::ParserError, Result};

use super::{symbols, ArgumentID, Patch};

mod apx;
mod apxm;
mod tgf;
mod tgfm;
type ParserResult<T> = Result<T, ParserError>;

pub fn parse_apx_tgf(input: &str) -> ParserResult<(Vec<symbols::Argument>, Vec<symbols::Attack>)> {
    apx::parse_file(input).or_else(|_| tgf::parse_file(input))
}

pub fn parse_apxm_tgfm_patch_line(input: &str) -> ParserResult<Vec<Patch>> {
    apxm::parse_line(input).or_else(|_| tgfm::parse_line(input))
}

#[derive(Debug)]
pub struct RawArgument {
    id: ArgumentID,
}

#[derive(Debug)]
pub struct RawAttack {
    from: ArgumentID,
    to: ArgumentID,
}

/// Expect the given Token and fail if it's not present
fn expect<'l, T>(lex: &mut logos::Lexer<'l, T>, expected: T) -> ParserResult<T>
where
    T: logos::Logos<'l, Source = str> + std::cmp::PartialEq + std::fmt::Debug + 'static,
{
    let next = lex.next();
    match next {
        Some(next) if next == expected => Ok(next),
        Some(next) => Err(ParserError::UnexpectedToken {
            found: Box::from(next),
            expected: vec![Box::from(expected)],
            position: lex.span(),
            text: lex.slice().to_owned(),
        }),
        None => Err(ParserError::UnexpectedEndOfInput {
            expected: vec![Box::from(expected)],
        }),
    }
}

#[cfg(test)]
mod tests {
    use crate::macros::{arg, att};

    use super::*;
    use pretty_assertions::assert_eq;

    #[test]
    fn simple_apx_tgf_files() {
        let af = parse_apx_tgf(r#"arg(a1).arg(b3)."#).unwrap();
        assert_eq!(af, (vec![arg!("a1"), arg!("b3")], vec![],));

        let af = parse_apx_tgf(
            r#"1
2
#
2 1"#,
        )
        .unwrap();
        assert_eq!(af, (vec![arg!("1"), arg!("2")], vec![att!("2", "1")],));
    }
}
